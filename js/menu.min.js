jQuery(document).ready(function(){jQuery(function(a){a("#sortable1, #sortable2").sortable({connectWith:".connectedSortable"}).disableSelection()});jQuery(function(a){a("#user_opt, #user_selected_opt").sortable({connectWith:".connectedSortable_user"}).disableSelection()});jQuery("#reordered_sortable").sortable();jQuery("#reordered_sortable").disableSelection();var b=[],d=jQuery(".ajax-url").val(),c=jQuery(".re-order-nonce").val();jQuery(".set_rm").click(function(){jQuery("#sortable2 li").each(function(){b.push(jQuery(this).attr("data-page"))});
0<b.length?jQuery.ajax({url:d,typt:"POST",data:"action=set_menuorder&order="+b+"&_nonce="+c,success:function(a){a?(b.length=0,jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg h3").text("Successfully changed!"),jQuery(".resp_msg").removeClass("w3-red").addClass("w3-green"),setTimeout(function(){jQuery(".resp_msg").fadeOut(2E3);window.open(window.location.href,"_self");location.reload()},2E3)):(jQuery(".resp_msg h3").text("Sorry!"),jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg").removeClass("w3-green").addClass("w3-red"),
jQuery(".resp_msg").fadeOut(2E3),setTimeout(function(){},2E3))}}):alert("Please drop menu in right box")});jQuery(".reord_current_menu").click(function(){jQuery("#reordered_sortable li").each(function(){b.push(jQuery(this).attr("data-page"))});0<b.length?jQuery.ajax({url:d,typt:"POST",data:"action=set_menuorder&order="+b+"&_nonce="+c,success:function(a){a?(b.length=0,jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg h3").text("Successfully changed!"),jQuery(".resp_msg").removeClass("w3-red").addClass("w3-green"),
setTimeout(function(){jQuery(".resp_msg").fadeOut(2E3);window.open(window.location.href,"_self");location.reload()},2E3)):(jQuery(".resp_msg h3").text("Sorry!"),jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg").removeClass("w3-green").addClass("w3-red"),jQuery(".resp_msg").fadeOut(2E3),setTimeout(function(){},2E3))}}):(jQuery(".resp_msg h3").text("Sorry!"),jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg").removeClass("w3-green").addClass("w3-red"),jQuery(".resp_msg").fadeOut(2E3),
setTimeout(function(){},2E3))});jQuery(".user_role").change(function(){var a=jQuery(".user_role :selected").val();jQuery.ajax({url:d,typt:"POST",data:"action=get_menuorder_by_user&userrole="+a+"&_nonce="+c,success:function(a){a?(a=jQuery.parseJSON(a),console.log(a),"undefined"!==typeof a.right||"undefined"!==typeof a.left?("undefined"!==typeof a.right&&(jQuery("#user_selected_opt").html(""),jQuery.each(a.right,function(a,b){jQuery("#user_selected_opt").append('<li class="w3-btn w3-hover-green w3-card-4" data-page="'+
a+'">'+b+"</li>")})),"undefined"!==typeof a.left&&(jQuery("#user_opt").html(""),jQuery.each(a.left,function(a,b){jQuery("#user_opt").append('<li class="w3-btn w3-hover-blue w3-card-4" data-page="'+a+'">'+b+"</li>")}))):(jQuery("#user_opt").html(""),jQuery("#user_selected_opt").html(""),jQuery.each(a.default_menu,function(a,b){jQuery("#user_opt").append('<li class="w3-btn w3-hover-blue w3-card-4" data-page="'+a+'">'+b+"</li>")}))):alert("Sorry some error occured")}})});jQuery(".set_rm_for_user").click(function(){var a=
jQuery(".user_role :selected").val();jQuery("#user_selected_opt li").each(function(){b.push(jQuery(this).attr("data-page"))});0<b.length?jQuery.ajax({url:d,typt:"POST",data:"action=set_menuorder_by_user_role&order="+b+"&_nonce="+c+"&user_role="+a+"&status=setuser",success:function(a){a?(b.length=0,jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg h3").text("Successfully changed!"),jQuery(".resp_msg").removeClass("w3-red").addClass("w3-green"),setTimeout(function(){jQuery(".resp_msg").fadeOut(2E3);
window.open(window.location.href,"_self");location.reload()},2E3)):(jQuery(".resp_msg h3").text("Sorry!"),jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg").removeClass("w3-green").addClass("w3-red"),jQuery(".resp_msg").fadeOut(2E3),setTimeout(function(){},2E3))}}):(jQuery(".resp_msg h3").text("Sorry!"),jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg").removeClass("w3-green").addClass("w3-red"),jQuery(".resp_msg").fadeOut(2E3),setTimeout(function(){},2E3))});jQuery(".reset_all_menu").click(function(){confirm("All changes will be deleted. \nAre you sure?")&&
jQuery.ajax({url:d,typt:"POST",data:"action=set_to_defaul",success:function(a){location.reload()}})});jQuery(".reset_u_role").click(function(){var a=jQuery("#reset_role").serialize();""==a||"undefined"==typeof a?(jQuery(".resp_msg h3").text("Select atleast one role!"),jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg").removeClass("w3-green").addClass("w3-red"),jQuery(".resp_msg").fadeOut(2500)):jQuery.ajax({url:d,typt:"POST",data:"action=reset_for_userrole&"+a+"&_nonce="+c,success:function(a){a?
(jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg h3").text("Successfully changed!"),jQuery(".resp_msg").removeClass("w3-red").addClass("w3-green"),setTimeout(function(){jQuery(".resp_msg").fadeOut(2E3);window.open(window.location.href,"_self");location.reload()},2E3),location.reload()):(jQuery(".resp_msg h3").text("Some error occured!"),jQuery(".resp_msg").removeAttr("style"),jQuery(".resp_msg").removeClass("w3-green").addClass("w3-red"),jQuery(".resp_msg").fadeOut(2500))}})})});
function openCity(b,d){var c,a,e;a=document.getElementsByClassName("city");for(c=0;c<a.length;c++)a[c].style.display="none";e=document.getElementsByClassName("tablink");for(c=0;c<a.length;c++)e[c].className=e[c].className.replace(" w3-red","");document.getElementById(d).style.display="block";b.currentTarget.className+=" w3-red"};